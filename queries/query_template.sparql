# Template: expects {SURNAME_FILTER} and {OCCUPATION_FILTER} to be injected.
# {LANGS} is a comma-separated list like: en,de,fr
# {LIMIT} is an integer.

SELECT ?person ?personLabel ?surname ?surnameLabel ?occupation ?occupationLabel ?birth ?countryLabel WHERE {
  ?person wdt:P31 wd:Q5 .
  ?person wdt:P106 ?occupation .
  OPTIONAL { ?person wdt:P27 ?country . }
  OPTIONAL { ?person wdt:P569 ?birth . }
  ?person wdt:P734 ?surname .

  SERVICE wikibase:label { bd:serviceParam wikibase:language "{LANGS}" . }

  {SURNAME_FILTER}
  {OCCUPATION_FILTER}
}
LIMIT {LIMIT}
